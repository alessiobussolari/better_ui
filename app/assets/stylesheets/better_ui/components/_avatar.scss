@layer components {
  // Classe base per l'avatar (Block)
  .bui-avatar {
    @apply inline-flex items-center justify-center relative;
    
    // Elements
    &__image {
      @apply object-cover;
    }
    
    &__placeholder {
      @apply flex items-center justify-center font-medium text-white uppercase;
    }
    
    &__status {
      @apply absolute bottom-0 right-0 block rounded-full ring-2 ring-white
             dark:ring-gray-800;
      
      &--online {
        @apply bg-green-400;
      }
      
      &--offline {
        @apply bg-gray-400 dark:bg-gray-600;
      }
      
      &--busy {
        @apply bg-red-400;
      }
      
      &--away {
        @apply bg-yellow-400;
      }
    }
    
    &__presence {
      @apply absolute block rounded-full ring-2 ring-white
             dark:ring-gray-800;
    }
    
    &__badge {
      @apply absolute -top-1 -right-1 flex items-center justify-center;
    }
    
    // Modifiers (dimensioni)
    &--xs {
      @apply h-6 w-6;
      
      .bui-avatar__placeholder {
        @apply text-xs;
      }
      
      .bui-avatar__status {
        @apply h-1.5 w-1.5;
      }
      
      .bui-avatar__badge {
        @apply h-4 w-4 text-[0.6rem];
      }
    }
    
    &--sm {
      @apply h-8 w-8;
      
      .bui-avatar__placeholder {
        @apply text-xs;
      }
      
      .bui-avatar__status {
        @apply h-2 w-2;
      }
      
      .bui-avatar__badge {
        @apply h-5 w-5 text-xs;
      }
    }
    
    &--md {
      @apply h-10 w-10;
      
      .bui-avatar__placeholder {
        @apply text-sm;
      }
      
      .bui-avatar__status {
        @apply h-2.5 w-2.5;
      }
      
      .bui-avatar__badge {
        @apply h-6 w-6 text-xs;
      }
    }
    
    &--lg {
      @apply h-12 w-12;
      
      .bui-avatar__placeholder {
        @apply text-base;
      }
      
      .bui-avatar__status {
        @apply h-3 w-3;
      }
      
      .bui-avatar__badge {
        @apply h-7 w-7 text-sm;
      }
    }
    
    &--xl {
      @apply h-16 w-16;
      
      .bui-avatar__placeholder {
        @apply text-lg;
      }
      
      .bui-avatar__status {
        @apply h-4 w-4;
      }
      
      .bui-avatar__badge {
        @apply h-8 w-8 text-sm;
      }
    }
    
    // Modifiers (colori placeholders)
    &--gray {
      .bui-avatar__placeholder {
        @apply bg-gray-500 dark:bg-gray-600;
      }
    }
    
    &--red {
      .bui-avatar__placeholder {
        @apply bg-red-500 dark:bg-red-600;
      }
    }
    
    &--blue {
      .bui-avatar__placeholder {
        @apply bg-blue-500 dark:bg-blue-600;
      }
    }
    
    &--green {
      .bui-avatar__placeholder {
        @apply bg-green-500 dark:bg-green-600;
      }
    }
    
    &--violet {
      .bui-avatar__placeholder {
        @apply bg-violet-500 dark:bg-violet-600;
      }
    }
    
    &--orange {
      .bui-avatar__placeholder {
        @apply bg-orange-500 dark:bg-orange-600;
      }
    }
    
    &--yellow {
      .bui-avatar__placeholder {
        @apply bg-yellow-500 text-yellow-900 dark:bg-yellow-600 dark:text-yellow-100;
      }
    }
    
    // Modifiers (forma)
    &--circle {
      @apply rounded-full;
      
      .bui-avatar__image,
      .bui-avatar__placeholder {
        @apply rounded-full;
      }
    }
    
    &--square {
      @apply rounded-md;
      
      .bui-avatar__image,
      .bui-avatar__placeholder {
        @apply rounded-md;
      }
    }
    
    // Modifiers (gruppo)
    &--group {
      @apply -ml-2 first:ml-0;
    }
  }
  
  // Avatar group container
  .bui-avatar-group {
    @apply flex;
    
    .bui-avatar {
      @apply border-2 border-white dark:border-gray-800;
    }
  }
} 