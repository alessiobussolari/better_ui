.bui-avatar {
  @apply relative inline-flex items-center justify-center flex-shrink-0 rounded-full overflow-hidden bg-gray-100;
  
  // Elemento interno: immagine
  &__img {
    @apply w-full h-full object-cover;
  }
  
  // Elemento interno: placeholder
  &__placeholder {
    @apply flex items-center justify-center w-full h-full font-medium text-gray-700 bg-gray-200;
  }
  
  // Sizes
  &--2xs {
    @apply w-4 h-4;
    
    .bui-avatar__placeholder {
      @apply text-[0.5rem];
    }
    .bui-avatar__status {
      @apply h-1 w-1;
    }
  }
  
  &__status {
    @apply absolute top-0 right-0 block rounded-full ring-2 ring-white;
    
    &--online {
      @apply bg-green-400;
    }
    
    &--offline {
      @apply bg-gray-400;
    }
    
    &--busy {
      @apply bg-red-400;
    }
    
    &--away {
      @apply bg-yellow-400;
    }
  }
  
  &__presence {
    @apply absolute block rounded-full ring-2 ring-white;
  }
  
  &__badge {
    @apply absolute -top-1 -right-1 flex items-center justify-center;
  }
  
  // Modifiers (dimensioni)
  &--xs {
    @apply h-6 w-6;
    
    .bui-avatar__placeholder {
      @apply text-xs;
    }
    
    .bui-avatar__status {
      @apply h-1.5 w-1.5;
    }
    
    .bui-avatar__badge {
      @apply h-4 w-4 text-[0.6rem];
    }
  }
  
  &--sm {
    @apply h-8 w-8;
    
    .bui-avatar__placeholder {
      @apply text-sm;
    }
    
    .bui-avatar__status {
      @apply h-2 w-2;
    }
    
    .bui-avatar__badge {
      @apply h-5 w-5 text-xs;
    }
  }
  
  &--md {
    @apply h-10 w-10;
    
    .bui-avatar__placeholder {
      @apply text-base;
    }
    
    .bui-avatar__status {
      @apply h-2.5 w-2.5;
    }
    
    .bui-avatar__badge {
      @apply h-6 w-6 text-xs;
    }
  }
  
  &--lg {
    @apply h-12 w-12;
    
    .bui-avatar__placeholder {
      @apply text-lg;
    }
    
    .bui-avatar__status {
      @apply h-3 w-3;
    }
    
    .bui-avatar__badge {
      @apply h-7 w-7 text-sm;
    }
  }
  
  &--lgg {
    @apply h-14 w-14;
    
    .bui-avatar__placeholder {
      @apply text-xl;
    }
    
    .bui-avatar__status {
      @apply h-3.5 w-3.5;
    }
    
    .bui-avatar__badge {
      @apply h-7 w-7 text-sm;
    }
  }
  
  &--xl {
    @apply h-16 w-16;
    
    .bui-avatar__placeholder {
      @apply text-xl;
    }
    
    .bui-avatar__status {
      @apply h-4 w-4;
    }
    
    .bui-avatar__badge {
      @apply h-8 w-8 text-sm;
    }
  }
  
  // Modifiers (colori placeholders) - Rifattorizzato per seguire i temi specificati
  &--red {
    .bui-avatar__placeholder {
      @apply bg-red-500;
    }
  }

  &--rose {
    .bui-avatar__placeholder {
      @apply bg-rose-500; // Aggiunto tema rose
    }
  }

  &--orange {
    .bui-avatar__placeholder {
      @apply bg-orange-500 text-yellow-900;
    }
  }

  &--green {
    .bui-avatar__placeholder {
      @apply bg-green-500;
    }
  }

  &--blue {
    .bui-avatar__placeholder {
      @apply bg-blue-500;
    }
  }

  &--yellow {
    .bui-avatar__placeholder {
      @apply bg-yellow-500 text-yellow-900;
    }
  }

  &--violet {
    .bui-avatar__placeholder {
      @apply bg-violet-500;
    }
  }

  &--white { // Aggiunto tema white
    .bui-avatar__placeholder {
      @apply bg-white text-gray-700;
    }
  }
  
  // Modifiers (forma)
  &--circle {
    @apply rounded-full;
    
    .bui-avatar__img,
    .bui-avatar__placeholder {
      @apply rounded-full;
    }
  }
  
  &--square {
    @apply rounded-md;
    
    .bui-avatar__img,
    .bui-avatar__placeholder {
      @apply rounded-md;
    }
  }
  
  // Modifiers (gruppo)
  &--group {
    @apply -ml-2 first:ml-0;
  }
  
  // Varianti di bordi
  &--bordered {
    @apply ring-2 ring-white;
  }
}

// Avatar group container
.bui-avatar-group {
  @apply flex;
  
  .bui-avatar {
    @apply border-2 border-white;
  }
}

// Stack di avatar
.bui-avatar-stack {
  @apply flex;
  
  .bui-avatar {
    @apply border-2 border-white;
  }
  
  .bui-avatar + .bui-avatar {
    @apply -ml-2 first:ml-0;
  }
} 