@layer components {
  // Classe base per il tooltip (Block)
  .bui-tooltip {
    @apply relative inline-block;

    // Accessibility attributes
    &[role="tooltip"] {
      @apply outline-none;
    }

    &__content {
      @apply absolute z-10 px-3 py-2 text-sm font-medium rounded-md shadow-sm 
             transition-opacity duration-300 opacity-0 invisible pointer-events-none
             whitespace-nowrap;
    }

    &__arrow {
      @apply absolute w-2 h-2 rotate-45;
    }

    // Stati
    &:hover &__content,
    &:focus &__content {
      @apply opacity-100 visible;
    }

    // Posizioni
    &--top &__content {
      @apply bottom-full left-1/2 -translate-x-1/2 mb-1;
    }

    &--top &__arrow {
      @apply top-full left-1/2 -translate-x-1/2 -mt-1 border-t border-l border-b-0 border-r-0;
    }

    &--right &__content {
      @apply left-full top-1/2 -translate-y-1/2 ml-1;
    }

    &--right &__arrow {
      @apply right-full top-1/2 -translate-y-1/2 mr-1 border-t border-r border-b-0 border-l-0;
    }

    &--bottom &__content {
      @apply top-full left-1/2 -translate-x-1/2 mt-1;
    }

    &--bottom &__arrow {
      @apply bottom-full left-1/2 -translate-x-1/2 mb-1 border-b border-r border-t-0 border-l-0;
    }

    &--left &__content {
      @apply right-full top-1/2 -translate-y-1/2 mr-1;
    }

    &--left &__arrow {
      @apply left-full top-1/2 -translate-y-1/2 ml-1 border-b border-l border-t-0 border-r-0;
    }

    // Multiline support
    &--multiline &__content {
      @apply whitespace-normal max-w-xs;
    }

    // Delay options
    &--delay-short &__content {
      @apply delay-200;
    }

    &--delay-medium &__content {
      @apply delay-500;
    }

    &--delay-long &__content {
      @apply delay-700;
    }

    // Touch device support
    &--touch-enabled {
      &:active &__content {
        @apply opacity-100 visible delay-0;
      }

      &__content {
        @apply delay-300;
      }
    }

    // Z-index options
    &--z-low &__content {
      @apply z-10;
    }

    &--z-medium &__content {
      @apply z-30;
    }

    &--z-high &__content {
      @apply z-50;
    }

    // Border radius options
    &--radius-none &__content {
      @apply rounded-none;
    }

    &--radius-small &__content {
      @apply rounded-sm;
    }

    &--radius-medium &__content {
      @apply rounded-md;
    }

    &--radius-large &__content {
      @apply rounded-lg;
    }

    &--radius-full &__content {
      @apply rounded-full;
    }

    // Animation options
    &--fade &__content {
      @apply transition-opacity;
    }

    &--scale &__content {
      @apply transition-all scale-95 origin-top;

      &:hover, &:focus {
        @apply scale-100;
      }
    }

    // Temi
    &--default &__content {
      @apply bg-black text-white border border-gray-900;
    }

    &--default &__arrow {
      @apply border-gray-900 bg-black border-b-0 border-r-0;
    }

    &--light &__content {
      @apply bg-white text-gray-700 border border-gray-200;
    }

    &--light &__arrow {
      @apply border-gray-200 bg-white border-b-0 border-r-0;
    }

    &--red &__content {
      @apply bg-red-500 text-white border border-red-600;
    }

    &--red &__arrow {
      @apply border-red-600 bg-red-500 border-b-0 border-r-0;
    }

    &--rose &__content {
      @apply bg-rose-500 text-white border border-rose-600;
    }

    &--rose &__arrow {
      @apply border-rose-600 bg-rose-500 border-b-0 border-r-0;
    }

    &--orange &__content {
      @apply bg-orange-500 text-white border border-orange-600;
    }

    &--orange &__arrow {
      @apply border-orange-600 bg-orange-500 border-b-0 border-r-0;
    }

    &--blue &__content {
      @apply bg-blue-500 text-white border border-blue-600;
    }

    &--blue &__arrow {
      @apply border-blue-600 bg-blue-500 border-b-0 border-r-0;
    }

    &--green &__content {
      @apply bg-green-500 text-white border border-green-600;
    }

    &--green &__arrow {
      @apply border-green-600 bg-green-500 border-b-0 border-r-0;
    }

    &--yellow &__content {
      @apply bg-yellow-500 text-black border border-yellow-600;
    }

    &--yellow &__arrow {
      @apply border-yellow-600 bg-yellow-500 border-b-0 border-r-0;
    }

    &--violet &__content {
      @apply bg-violet-500 text-white border border-violet-600;
    }

    &--violet &__arrow {
      @apply border-violet-600 bg-violet-500 border-b-0 border-r-0;
    }

    // Size modifiers
    &--xs {
      .bui-tooltip__content {
        @apply text-xs py-1 px-2;
      }
    }

    &--sm {
      .bui-tooltip__content {
        @apply text-sm py-1.5 px-2.5;
      }
    }

    &--md {
      .bui-tooltip__content {
        @apply text-base py-2 px-3;
      }
    }

    &--lg {
      .bui-tooltip__content {
        @apply text-lg py-2.5 px-4;
      }
    }
  }
} 
