<div class="lg:flex lg:items-center lg:justify-between">
  <div class="min-w-0 flex-1">
    <% if breadcrumbs.any? %>
      <nav class="flex" aria-label="Breadcrumb">
        <ol role="list" class="flex items-center space-x-4">
          <% breadcrumbs.each_with_index do |breadcrumb, index| %>
            <li>
              <div class="flex<%= index > 0 ? ' items-center' : '' %>">
                <% if index > 0 %>
                  <%= render BetterUi::General::IconComponent.new(
                    name: "chevron-right",
                    size: :sm,
                    classes: "size-5 shrink-0 text-gray-400"
                  ) %>
                <% end %>
                <a href="<%= breadcrumb[:href] %>" class="<%= index > 0 ? 'ml-4 ' : '' %>text-sm font-medium text-gray-500 hover:text-gray-700">
                  <%= breadcrumb[:text] %>
                </a>
              </div>
            </li>
          <% end %>
        </ol>
      </nav>
    <% end %>
    
    <h2 class="mt-2 text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"><%= title %></h2>
    
    <% if meta_items.any? %>
      <div class="mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6">
        <% meta_items.each do |item| %>
          <div class="mt-2 flex items-center text-sm text-gray-500">
            <%= render BetterUi::General::IconComponent.new(
              name: item[:icon],
              size: :sm,
              classes: "mr-1.5 size-5 shrink-0 text-gray-400"
            ) %>
            <%= item[:text] %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
  
  <% if actions.any? %>
    <div class="mt-5 flex lg:mt-0 lg:ml-4">
      <% actions.each_with_index do |action, index| %>
        <% next if action[:mobile_only] %>
        <% button_type = action[:type] == :primary ? :primary : :secondary %>
        <% type_class = action[:type] == :primary ? "" : "hidden sm:block" %>
        <% margin_class = index > 0 ? (action[:type] == :primary ? "sm:ml-3" : "ml-3 hidden sm:block") : type_class %>
        
        <span class="<%= margin_class %>">
          <%= render BetterUi::General::ButtonComponent.new(
            label: action[:text],
            type: button_type,
            href: action[:href],
            method: action[:method],
            icon: action[:icon],
            data: action[:data],
            classes: action[:classes]
          ) %>
        </span>
      <% end %>

      <% if mobile_menu && has_mobile_only_actions? %>
        <!-- Menu mobile -->
        <div class="relative ml-3 sm:hidden">
          <button type="button" class="inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:ring-gray-400" id="mobile-menu-button" aria-expanded="false" aria-haspopup="true">
            Altro
            <%= render BetterUi::General::IconComponent.new(
              name: "chevron-down",
              size: :sm,
              classes: "-mr-1 ml-1.5 size-5 text-gray-400"
            ) %>
          </button>

          <div class="absolute right-0 z-10 mt-2 -mr-1 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black/5 focus:outline-hidden hidden" 
               role="menu" 
               aria-orientation="vertical"
               aria-labelledby="mobile-menu-button"
               tabindex="-1">
            <% mobile_menu_actions.each do |action| %>
              <a href="<%= action[:href] %>" 
                 class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" 
                 role="menuitem" 
                 tabindex="-1">
                <%= action[:text] %>
              </a>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div> 