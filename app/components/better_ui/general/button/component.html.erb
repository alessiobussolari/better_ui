<%# Template per il bottone %>
<% if link? %>
  <%= link_to @href, **link_attributes do %>
    <% if @icon && @icon_position == :left %>
      <span class="flex-shrink-0<%= @text.present? ? ' mr-2' : '' %>"><%= render_icon(@icon) %></span>
    <% end %>
    
    <% if @text %>
      <span class="flex-grow"><%= @text %></span>
    <% end %>
    
    <% if @icon && @icon_position == :right %>
      <span class="flex-shrink-0<%= @text.present? ? ' ml-2' : '' %>"><%= render_icon(@icon) %></span>
    <% end %>
    
    <%= content %>
  <% end %>
<% else %>
  <%= tag.button(**button_attributes) do %>
    <% if @icon && @icon_position == :left %>
      <span class="flex-shrink-0<%= @text.present? ? ' mr-2' : '' %>"><%= render_icon(@icon) %></span>
    <% end %>
    
    <% if @text %>
      <span class="flex-grow"><%= @text %></span>
    <% end %>
    
    <% if @icon && @icon_position == :right %>
      <span class="flex-shrink-0<%= @text.present? ? ' ml-2' : '' %>"><%= render_icon(@icon) %></span>
    <% end %>
    
    <%= content %>
  <% end %>
<% end %>
