<%
  # Include degli helper necessari per utilizzare i componenti
  extend BetterUi::Application::Components::Navbar::NavbarHelper
  extend BetterUi::Application::Components::Sidebar::SidebarHelper
  extend BetterUi::Application::Components::Main::MainHelper
%>

<div class="relative min-h-screen bg-gray-100">

  <!-- Navbar con supporto sidebar -->
  <%= bui_navbar(
        theme: navbar_theme,
        shadow: :none,
        border: true,
        with_sidebar: true,
        sidebar_width: :md,
        actions: [
          {
            type: :icon,
            icon: "bell",
            data: { tooltip: "Notifiche" }
          },
          {
            type: :avatar,
            avatar: { initials: "AB", size: :small, theme: :blue },
            href: "/profile"
          }
        ]
      ) do %>
        <div class="flex items-center">
          <h2 class="text-lg font-semibold">Better UI Admin</h2>
        </div>
      <% end %>

  <!-- Sidebar -->
  <%= bui_sidebar(
    theme: sidebar_theme,
    shadow: :large,
    width: :md,
    header: {
      logo: { initials: "BU", theme: :blue, size: :small },
      title: "Better UI",
      subtitle: "Admin Panel"
    },
    navigation_sections: [
      {
        title: "MENU PRINCIPALE",
        items: [
          { label: "Dashboard", icon: "home", href: "/", active: true },
          { label: "Progetti", icon: "folder", href: "/projects" },
          { label: "Team", icon: "user-group", href: "/team" },
          { label: "Calendario", icon: "calendar", href: "/calendar" },
          { label: "Documenti", icon: "document-text", href: "/documents" }
        ]
      },
      {
        title: "STRUMENTI",
        items: [
          { label: "Impostazioni", icon: "cog", href: "/settings" },
          { label: "Statistiche", icon: "chart-bar", href: "/stats" },
          { label: "Supporto", icon: "support", href: "/support" }
        ]
      }
    ],
    footer: {
      user_info: {
        name: "Admin User",
        email: "admin@example.com",
        avatar: { initials: "AU", theme: :green }
      }
    }
  ) %>

  <!-- Main Content -->
  <%= bui_main(
    with_sidebar: true,
    padding: true,
    inner_padding: true,
    rounded: main_rounded,
    shadow: :medium,
    sidebar_width: :md
  ) do %>

    <h1 class="text-2xl font-bold mb-6">Benvenuto nella Dashboard</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
      <div class="bg-white shadow rounded-lg p-6 border border-gray-100">
        <h3 class="text-lg font-semibold mb-2">Progetti Attivi</h3>
        <p class="text-gray-500">8 progetti in corso</p>
        <div class="mt-4">
          <div class="bg-gray-100 h-2 rounded-full">
            <div class="bg-green-500 h-2 rounded-full w-3/4"></div>
          </div>
        </div>
      </div>
      
      <div class="bg-white shadow rounded-lg p-6 border border-gray-100">
        <h3 class="text-lg font-semibold mb-2">Ore Lavorate</h3>
        <p class="text-gray-500">128 ore questo mese</p>
        <div class="mt-4">
          <div class="bg-gray-100 h-2 rounded-full">
            <div class="bg-blue-500 h-2 rounded-full w-2/3"></div>
          </div>
        </div>
      </div>
      
      <div class="bg-white shadow rounded-lg p-6 border border-gray-100">
        <h3 class="text-lg font-semibold mb-2">Attività Da Fare</h3>
        <p class="text-gray-500">12 attività in attesa</p>
        <div class="mt-4">
          <div class="bg-gray-100 h-2 rounded-full">
            <div class="bg-yellow-500 h-2 rounded-full w-1/2"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="bg-white shadow rounded-lg p-6 border border-gray-100">
      <h2 class="text-xl font-semibold mb-4">Attività Recenti</h2>
      <div class="space-y-4">
        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-blue-100 text-blue-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.5-2.5a.5.5 0 01.5-.5h3a.5.5 0 010 1h-2.5v2.5a.5.5 0 01-1 0v-3z" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Nuovo progetto creato</p>
            <p class="text-sm text-gray-500">App mobile per cliente XYZ</p>
            <p class="text-xs text-gray-400 mt-1">2 ore fa</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>

        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-4 pb-4 border-b border-gray-100">
          <div class="bg-green-100 text-green-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Revisione completata</p>
            <p class="text-sm text-gray-500">Progetto dashboard amministrativa</p>
            <p class="text-xs text-gray-400 mt-1">Ieri alle 15:30</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-4">
          <div class="bg-yellow-100 text-yellow-700 p-2 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
            </svg>
          </div>
          <div>
            <p class="font-medium">Promemoria: deadline progetto</p>
            <p class="text-sm text-gray-500">Consegna prevista tra 3 giorni</p>
            <p class="text-xs text-gray-400 mt-1">2 giorni fa</p>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
